parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"l0zS":[function(require,module,exports) {

},{}],"8wLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){document.getElementById("score").innerHTML="score: ".concat(e)};exports.default=e;
},{}],"UE96":[function(require,module,exports) {
"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){var r=Date.now(),a=JSON.parse(localStorage.getItem("snakeScore"))||[];a.push(e({},r,t)),localStorage.setItem("snakeScore",JSON.stringify(a))};exports.default=t;
},{}],"mgav":[function(require,module,exports) {
"use strict";function e(e){return n(e)||r(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function n(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){var t=document.getElementById("results"),r=e(document.querySelectorAll(".results__item")),n=JSON.parse(localStorage.getItem("snakeScore"))||[];n.length&&(n=(n=(n=n.map(function(e){return Object.values(e)[0]})).filter(function(e,t){return e>0&&n.indexOf(e)==t})).sort(function(e,t){return e-t}).reverse().slice(0,5),r.length&&r.forEach(function(e){return e.parentElement.removeChild(e)}),n.forEach(function(e,r){var n=document.createElement("li");n.innerHTML="".concat(r+1,". ").concat(e),n.className="results__item",t.appendChild(n)}))};exports.default=o;
},{}],"+xrn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=s(require("./updateScore")),e=s(require("./savaScore")),i=s(require("./getResults"));function s(t){return t&&t.__esModule?t:{default:t}}function n(t){return o(t)||h(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function l(t,e,i){return e&&c(t.prototype,e),i&&c(t,i),t}var d=function(){function s(){r(this,s),this.GRID_SIZE=20,this.FPS=10,this.INTERVAL=1e3/this.FPS,this.AREA_WIDTH,this.AREA_HEIGHT,this.area,this.ctx,this.now,this.delta,this.area,this.ctx,this.now,this.delta,this.then=Date.now(),this.crashed=!1,this.started=!1,this.preview=!0,this.score=0,this.snake={x:100,y:100,dx:1,dy:0,tail:[],startLength:4},this.food={x:260,y:100},this.loop=this.loop.bind(this)}return l(s,[{key:"init",value:function(){this.area=document.getElementById("area"),this.ctx=this.area.getContext("2d"),this.AREA_WIDTH=this.calcAreaSize,this.AREA_HEIGHT=this.calcAreaSize,this.area.width=this.AREA_WIDTH,this.area.height=this.AREA_HEIGHT,this.fillArea(),this.startScreen()}},{key:"start",value:function(){this.started=!0,this.crashed=!1,this.preview=!1,this.initialValue(),this.changeDirectionListener(),this.createSnake(4),this.loop()}},{key:"pause",value:function(){this.started=!1}},{key:"resume",value:function(){this.started=!0}},{key:"loop",value:function(){this.crashed||(requestAnimationFrame(this.loop),(this.started||this.preview)&&(this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.INTERVAL&&(this.then=this.now-this.delta%this.INTERVAL,this.fillArea(),this.preview&&this.autoChangeDirection(),this.moveSnake(),this.drawSnake(),this.preview||(this.drawFood(),this.checkSnakeLocation()))))}},{key:"createSnake",value:function(t){var e=this;n(Array(t).keys()).forEach(function(t,i){var s,n,a=[e.snake.x-e.GRID_SIZE*i,e.snake.y,e.GRID_SIZE,e.GRID_SIZE];e.ctx.lineWidth=3,e.ctx.fillStyle="green",e.ctx.strokeStyle="#39ff14",(s=e.ctx).fillRect.apply(s,a),(n=e.ctx).strokeRect.apply(n,a),e.snake.tail.push({x:e.snake.x-e.GRID_SIZE*i,y:e.snake.y})})}},{key:"moveSnake",value:function(){this.snake.x+=this.GRID_SIZE*this.snake.dx,this.snake.y+=this.GRID_SIZE*this.snake.dy,this.snake.tail.unshift({x:this.snake.x,y:this.snake.y}),this.snake.tail.length>this.snake.startLength&&this.snake.tail.pop()}},{key:"drawSnake",value:function(){var t=this;this.snake.tail.forEach(function(e){t.ctx.lineWidth=3,t.ctx.fillStyle="green",t.ctx.strokeStyle="#39ff14",t.ctx.fillRect(e.x,e.y,t.GRID_SIZE,t.GRID_SIZE),t.ctx.strokeRect(e.x,e.y,t.GRID_SIZE,t.GRID_SIZE)})}},{key:"drawFood",value:function(){this.ctx.lineWidth=1,this.ctx.fillStyle="red",this.ctx.strokeStyle="darkred",this.ctx.fillRect(this.food.x,this.food.y,this.GRID_SIZE,this.GRID_SIZE),this.ctx.strokeRect(this.food.x,this.food.y,this.GRID_SIZE,this.GRID_SIZE)}},{key:"checkSnakeLocation",value:function(){var s=this;0!==this.snake.x&&this.snake.x!==this.AREA_WIDTH-this.GRID_SIZE&&0!==this.snake.y&&this.snake.y!==this.AREA_HEIGHT-this.GRID_SIZE||(this.crashed=!0,(0,e.default)(this.score),(0,i.default)()),this.snake.tail.slice(1,this.snake.tail.length).forEach(function(t){s.snake.tail[0].x===t.x&&s.snake.tail[0].y===t.y&&(s.crashed=!0,(0,e.default)(s.score),(0,i.default)())}),this.snake.x===this.food.x&&this.snake.y===this.food.y&&(this.snake.tail.push({x:this.food.x,y:this.food.y}),this.food.x=this.newFoodPosition("x"),this.food.y=this.newFoodPosition("y"),(0,t.default)(this.score+=10))}},{key:"newFoodPosition",value:function(t){for(var e=this.snake.tail.map(function(e){return e[t]}),i=this.randomPosition(this.GRID_SIZE,this.AREA_WIDTH-2*this.GRID_SIZE);e.includes(i);)i=this.randomPosition(this.GRID_SIZE,this.AREA_WIDTH-2*this.GRID_SIZE);return i}},{key:"changeDirectionListener",value:function(){var t=this;window.addEventListener("keydown",function(e){var i=e.keyCode;37===i&&1!==t.snake.dx&&(t.snake.dx=-1,t.snake.dy=0),38===i&&1!==t.snake.dy&&(t.snake.dx=0,t.snake.dy=-1),39===i&&-1!==t.snake.dx&&(t.snake.dx=1,t.snake.dy=0),40===i&&-1!==t.snake.dy&&(t.snake.dx=0,t.snake.dy=1)})}},{key:"startScreen",value:function(){this.snake.x=this.GRID_SIZE,this.snake.y=this.GRID_SIZE,this.createSnake(24),this.loop()}},{key:"autoChangeDirection",value:function(){var t=this.calcAreaSize;this.snake.x===Math.abs(t-2*this.GRID_SIZE)&&0===this.snake.dy&&(this.snake.dx=0,this.snake.dy=1),this.snake.y===Math.abs(t-2*this.GRID_SIZE)&&1===this.snake.dy&&(this.snake.dx=-1,this.snake.dy=0),this.snake.x===this.GRID_SIZE&&-1===this.snake.dx&&(this.snake.dx=0,this.snake.dy=-1),this.snake.y===this.GRID_SIZE&&-1===this.snake.dy&&(this.snake.dx=1,this.snake.dy=0)}},{key:"fillArea",value:function(){this.ctx.lineWidth=26,this.ctx.strokeStyle="#4666FF",this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.AREA_WIDTH,this.AREA_HEIGHT),this.ctx.strokeRect(0,0,this.AREA_WIDTH,this.AREA_HEIGHT)}},{key:"initialValue",value:function(){this.snake={x:100,y:100,dx:1,dy:0,tail:[],startLength:4},this.food={x:260,y:100}}},{key:"randomPosition",value:function(t,e){return Math.round((Math.random()*(e-t)+t)/this.GRID_SIZE)*this.GRID_SIZE}},{key:"calcAreaSize",get:function(){return Math.floor(window.innerHeight/this.GRID_SIZE)*this.GRID_SIZE}}]),s}();exports.default=d;
},{"./updateScore":"8wLY","./savaScore":"UE96","./getResults":"mgav"}],"6gjB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./snake"));function t(e){return e&&e.__esModule?e:{default:e}}var n=function(){var t=document.getElementById("startButton"),n=document.getElementById("newGameButton"),s=document.getElementById("pauseButton"),d=document.getElementById("resumeButton"),c=document.getElementById("startScreen"),i=new e.default,a=function(e){[t,n,s,d,c].forEach(function(t,n){e[n]?t.classList.remove("hide"):(t.classList.add("hide"),t.classList.remove("controlls__btn--active"))})};i.init(),t.addEventListener("click",function(){i.start(),a([0,1,1,0,0]),c.classList.add("hide")}),n.addEventListener("click",function(){i.start(),a([0,1,1,0,0])}),s.addEventListener("click",function(){i.pause(),a([0,1,0,1,1]),d.classList.add("controlls__btn--active")}),d.addEventListener("click",function(){i.resume(),a([0,1,1,0,0])})};exports.default=n;
},{"./snake":"+xrn"}],"Focm":[function(require,module,exports) {
"use strict";require("./src/styles/index.styl");var e=r(require("./src/js/init")),t=r(require("./src/js/getResults"));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(){[t.default,e.default].forEach(function(e){setTimeout(e,0)})};window.addEventListener("DOMContentLoaded",s);
},{"./src/styles/index.styl":"l0zS","./src/js/init":"6gjB","./src/js/getResults":"mgav"}]},{},["Focm"], null)
//# sourceMappingURL=https://igorbezsmertnyi.github.io/snake/snake.5c1b0f8a.map